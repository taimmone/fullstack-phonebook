{"version":3,"sources":["services/phonebookService.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","phonebookService","getAll","axios","get","then","data","create","newObject","post","update","id","put","remove","delete","Filter","filter","handleInput","name","value","onChange","PersonForm","newPerson","addPerson","onSubmit","required","number","type","Person","person","handleClick","onClick","Persons","persons","deletePerson","toLowerCase","includes","map","Notification","message","error","className","App","useState","setPersons","setNewPerson","setFilter","notification","setNotification","useEffect","createNotification","setTimeout","event","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","createdPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oOACMA,EAAU,eASDC,EAPU,CACvBC,OAAQ,kBAAMC,IAAMC,IAAIJ,GAASK,MAAK,qBAAGC,SACzCC,OAAQ,SAAAC,GAAS,OAAIL,IAAMM,KAAKT,EAASQ,GAAWH,MAAK,qBAAGC,SAC5DI,OAAQ,SAACC,EAAIH,GAAL,OAAmBL,IAAMS,IAAN,UAAaZ,EAAb,YAAwBW,GAAMH,GAAWH,MAAK,qBAAGC,SAC5EO,OAAQ,SAAAF,GAAE,OAAIR,IAAMW,OAAN,UAAgBd,EAAhB,YAA2BW,IAAMN,MAAK,qBAAGC,UCH1CS,EAJA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,YACxB,OAAO,uBAAOC,KAAK,SAASC,MAAOH,EAAQI,SAAUH,KCexCI,EAhBI,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,UAAWN,EAAkB,EAAlBA,YAC1C,OACE,uBAAMO,SAAUD,EAAhB,UACE,yCACQ,uBAAOL,KAAK,OAAOC,MAAOG,EAAUJ,KAAME,SAAUH,EAAaQ,UAAQ,OAEjF,2CACU,uBAAOP,KAAK,SAASC,MAAOG,EAAUI,OAAQN,SAAUH,EAAaQ,UAAQ,OAEvF,8BACE,wBAAQE,KAAK,SAAb,uBCDOC,EATA,SAAC,GAAD,QAAGC,OAAUX,EAAb,EAAaA,KAAMQ,EAAnB,EAAmBA,OAAUI,EAA7B,EAA6BA,YAA7B,OACb,+BACE,iCACGZ,EADH,IACUQ,KAEV,wBAAQK,QAASD,EAAjB,wBCSWE,EAZC,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,QAASjB,EAA2B,EAA3BA,OAAQkB,EAAmB,EAAnBA,aASlC,OAAO,6BAPED,EAAQjB,QAAO,qBAAGE,KAAgBiB,cAAcC,SAASpB,EAAOmB,kBAIhDE,KAAI,SAAAR,GAAM,OAC/B,cAAC,EAAD,CAAwBA,OAAQA,EAAQC,YAAa,kBAAMI,EAAaL,EAAOlB,MAAlEkB,EAAOlB,UCNX2B,EAHM,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,IAAYC,aAAZ,gBACnB,qBAAKC,UAAS,sBAAiBD,EAAQ,SAAW,IAAlD,SAAyDD,KCgF5CG,EAzEH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTV,EADS,KACAW,EADA,OAEkBD,mBAAS,CAAEzB,KAAM,GAAIQ,OAAQ,KAF/C,mBAETJ,EAFS,KAEEuB,EAFF,OAGYF,mBAAS,IAHrB,mBAGT3B,EAHS,KAGD8B,EAHC,OAIwBH,mBAAS,MAJjC,mBAITI,EAJS,KAIKC,EAJL,KAMhBC,qBAAU,WACRhD,EAAiBC,SAASG,MAAK,SAAAC,GAAI,OAAIsC,EAAWtC,QACjD,IAEH,IAAM4C,EAAqB,SAACX,GAA4B,IAAnBC,EAAkB,wDACrDQ,EAAgB,CAAET,UAASC,UAC3BW,YAAW,kBAAMH,EAAgB,QAAO,MA+C1C,OACE,gCACE,2CACCD,GAAgB,cAAC,EAAD,CAAcR,QAAO,OAAEQ,QAAF,IAAEA,OAAF,EAAEA,EAAcR,QAASC,MAAK,OAAEO,QAAF,IAAEA,OAAF,EAAEA,EAAcP,QACpF,gDACA,cAAC,EAAD,CAAQxB,OAAQA,EAAQC,YATF,SAAAmC,GAAK,OAAIN,EAAUM,EAAMC,OAAOlC,UAUtD,2CACA,cAAC,EAAD,CAAYG,UAAWA,EAAWL,YAVZ,SAAC,GAAD,QAAGoC,OAAUnC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,MAAnB,OACxB0B,EAAa,2BAAKvB,GAAN,kBAAkBJ,EAAOC,MAS+BI,UAnDpD,SAAA6B,GAChBA,EAAME,iBACN,IAAMC,EAAiBtB,EAAQuB,MAAK,qBAAGtC,OAAoBI,EAAUJ,QAEjEqC,GAAkBA,EAAe7B,SAAWJ,EAAUI,OAEtD+B,OAAOC,QAAP,UACKpC,EAAUJ,KADf,4EAIAjB,EAAiBS,OAAO6C,EAAe5C,GAAIW,GAAWjB,MAAK,SAAAsD,GACzD,IAAKA,EAMH,OALAT,EAAmB,kBAAD,OACE5B,EAAUJ,KADZ,0CAEhB,QAEF0B,EAAWX,EAAQjB,QAAO,SAAAa,GAAM,OAAIA,EAAOlB,KAAO4C,EAAe5C,OAGnEiC,EACEX,EAAQI,KAAI,SAAAR,GAAM,OAAKA,EAAOlB,KAAO4C,EAAe5C,GAAKkB,EAAS8B,MAEpET,EAAmB,WAAD,OAAY5B,EAAUJ,UAI5CjB,EAAiBM,OAAOe,GAAWjB,MAAK,SAAAuD,GACtChB,EAAW,GAAD,mBAAKX,GAAL,CAAc2B,KACxBV,EAAmB,SAAD,OAAU5B,EAAUJ,UAI1C2B,EAAa,CAAE3B,KAAM,GAAIQ,OAAQ,QAoB/B,yCACA,cAAC,EAAD,CAASO,QAASA,EAASjB,OAAQA,EAAQkB,aAlB1B,SAAAvB,GAAO,IAAD,EACrB8C,OAAOC,QAAP,2BAAyBzB,EAAQuB,MAAK,SAAA3B,GAAM,OAAIA,EAAOlB,KAAOA,YAA9D,aAAyB,EAA0CO,KAAnE,OACFjB,EAAiBY,OAAOF,GAAIN,KAAKuC,EAAWX,EAAQjB,QAAO,SAAAa,GAAM,OAAIA,EAAOlB,KAAOA,cCvDzFkD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8727ef74.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst phonebookService = {\n  getAll: () => axios.get(baseUrl).then(({ data }) => data),\n  create: newObject => axios.post(baseUrl, newObject).then(({ data }) => data),\n  update: (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject).then(({ data }) => data),\n  remove: id => axios.delete(`${baseUrl}/${id}`).then(({ data }) => data),\n};\n\nexport default phonebookService;\n","const Filter = ({ filter, handleInput }) => {\n  return <input name=\"filter\" value={filter} onChange={handleInput} />;\n};\n\nexport default Filter;\n","const PersonForm = ({ newPerson, addPerson, handleInput }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input name=\"name\" value={newPerson.name} onChange={handleInput} required />\n      </div>\n      <div>\n        number: <input name=\"number\" value={newPerson.number} onChange={handleInput} required />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","const Person = ({ person: { name, number }, handleClick }) => (\n  <li>\n    <span>\n      {name} {number}\n    </span>\n    <button onClick={handleClick}>delete</button>\n  </li>\n);\n\nexport default Person;\n","import Person from './Person';\n\nconst Persons = ({ persons, filter, deletePerson }) => {\n  function filterPersons() {\n    return persons.filter(({ name }) => name.toLowerCase().includes(filter.toLowerCase()));\n  }\n\n  const listPersons = () =>\n    filterPersons(persons).map(person => (\n      <Person key={person.id} person={person} handleClick={() => deletePerson(person.id)} />\n    ));\n  return <ul>{listPersons()}</ul>;\n};\n\nexport default Persons;\n","const Notification = ({ message, error = false }) => (\n  <div className={`notification${error ? ' error' : ''}`}>{message}</div>\n);\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\n\nimport phonebookService from './services/phonebookService';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({ name: '', number: '' });\n  const [filter, setFilter] = useState('');\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    phonebookService.getAll().then(data => setPersons(data));\n  }, []);\n\n  const createNotification = (message, error = false) => {\n    setNotification({ message, error });\n    setTimeout(() => setNotification(null), 5000);\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n    const existingPerson = persons.find(({ name }) => name === newPerson.name);\n\n    if (existingPerson && existingPerson.number !== newPerson.number) {\n      if (\n        window.confirm(\n          `${newPerson.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        phonebookService.update(existingPerson.id, newPerson).then(updatedPerson => {\n          if (!updatedPerson) {\n            createNotification(\n              `Information of ${newPerson.name} has already been removed from server`,\n              true\n            );\n            setPersons(persons.filter(person => person.id !== existingPerson.id));\n            return;\n          }\n          setPersons(\n            persons.map(person => (person.id !== existingPerson.id ? person : updatedPerson))\n          );\n          createNotification(`Updated ${newPerson.name}`);\n        });\n      }\n    } else {\n      phonebookService.create(newPerson).then(createdPerson => {\n        setPersons([...persons, createdPerson]);\n        createNotification(`Added ${newPerson.name}`);\n      });\n    }\n\n    setNewPerson({ name: '', number: '' });\n  };\n\n  const deletePerson = id => {\n    if (window.confirm(`Delete ${persons.find(person => person.id === id)?.name}?`))\n      phonebookService.remove(id).then(setPersons(persons.filter(person => person.id !== id)));\n  };\n\n  const handleFilterInput = event => setFilter(event.target.value);\n  const handlePersonInput = ({ target: { name, value } }) =>\n    setNewPerson({ ...newPerson, [name]: value });\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {notification && <Notification message={notification?.message} error={notification?.error} />}\n      <h2>Filter numbers</h2>\n      <Filter filter={filter} handleInput={handleFilterInput} />\n      <h2>Add a new</h2>\n      <PersonForm newPerson={newPerson} handleInput={handlePersonInput} addPerson={addPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}